---
import Hero from './Hero.astro';
import Icon from './Icon.astro';
import Pill from './Pill.astro';

import { getLangFromUrl, useTranslations } from '../i18n/utils';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<header class="hero">
  <Hero title={t('header.title')} tagline={t('header.subtitle')} align="start">
    {
      lang === 'en' ? (
        <a class="i18n-link" href="/es/">
          Ver en Español
        </a>
      ) : (
        <a class="i18n-link" href="/">
          See it in English
        </a>
      )
    }
    <a class="i18n-link" href="/es/">Ver en Español</a>
    <div class="roles">
      <Pill>
        <Icon icon="code" size="1.33em" />{t('header.skills.developer')}
      </Pill>
      <Pill>
        <Icon icon="microphone-stage" size="1.33em" />{
          t('header.skills.speaker')
        }
      </Pill>
    </div>
  </Hero>

  <img
    alt="Hernan Acero smiling in a blue shirt"
    width="480"
    height="620"
    src="/assets/portrait.jpg"
  />
</header>

<style>
  .hero {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 2rem;
  }

  .roles {
    display: none;
  }

  .hero img {
    aspect-ratio: 5 / 4;
    object-fit: cover;
    object-position: top;
    border-radius: 1.5rem;
    box-shadow: var(--shadow-md);
  }

  .i18n-link {
    font-size: 1rem;
    text-decoration: underline;
    cursor: pointer;
  }

  @media (min-width: 50em) {
    .hero {
      display: grid;
      grid-template-columns: 6fr 4fr;
      padding-inline: 2.5rem;
      gap: 3.75rem;
    }

    .roles {
      margin-top: 0.5rem;
      display: flex;
      gap: 0.5rem;
    }

    .hero img {
      aspect-ratio: 3 / 4;
      border-radius: 4.5rem;
      object-fit: cover;
    }
  }
</style>
